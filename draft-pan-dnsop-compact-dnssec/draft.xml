<?xml version="1.0" encoding="utf-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc version 1.7.4 (Ruby 3.0.6) -->


<!DOCTYPE rfc  [
  <!ENTITY nbsp    "&#160;">
  <!ENTITY zwsp   "&#8203;">
  <!ENTITY nbhy   "&#8209;">
  <!ENTITY wj     "&#8288;">

<!ENTITY RFC2119 SYSTEM "https://bib.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC1034 SYSTEM "https://bib.ietf.org/public/rfc/bibxml/reference.RFC.1034.xml">
<!ENTITY RFC1035 SYSTEM "https://bib.ietf.org/public/rfc/bibxml/reference.RFC.1035.xml">
<!ENTITY RFC8499 SYSTEM "https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8499.xml">
<!ENTITY RFC9539 SYSTEM "https://bib.ietf.org/public/rfc/bibxml/reference.RFC.9539.xml">
<!ENTITY RFC9250 SYSTEM "https://bib.ietf.org/public/rfc/bibxml/reference.RFC.9250.xml">
<!ENTITY RFC7858 SYSTEM "https://bib.ietf.org/public/rfc/bibxml/reference.RFC.7858.xml">
]>


<rfc ipr="trust200902" docName="draft-pan-dnsop-compact-dnssec-00" category="info" submissionType="IETF" tocInclude="true" sortRefs="true" symRefs="true">
  <front>
    <title abbrev="EFAS">Compact DNSSEC</title>

    <author initials="L." surname="Pan" fullname="Lanlan Pan">
      <organization></organization>
      <address>
        <postal>
          <city>Guangdong</city>
          <country>China</country>
        </postal>
        <email>abbypan@gmail.com</email>
      </address>
    </author>

    <date year="2025" month="February" day="23"/>

    <area>ops</area>
    <workgroup>dnsop</workgroup>
    <keyword>Internet-Draft</keyword>

    <abstract>


<?line 93?>

<t>This document describes about a compact DNSSEC scheme for resource-limited second-level domain (SLD), which is focused on NS RR.</t>



    </abstract>



  </front>

  <middle>


<?line 97?>

<section anchor="background"><name>Background</name>

<t>DNSSEC has low adoption rate on SLD <xref target="SadDNSSEC"/>.</t>

<t>The operation burden of fullzone DNSSEC deployment is heavy.</t>

<t>DNS random subdomain attacks and amplification attacks are commonly used distributed denial-of-service (DDoS) attacks.
The DDoS amplification power of the authoritative server of SLD will be larger after deploying DNSSEC <xref target="AmpDNSSEC"/>.</t>

</section>
<section anchor="terminology"><name>Terminology</name>

<t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in <xref target="RFC2119"/>.</t>

<t>Basic terms used in this specification are defined in the documents <xref target="RFC1034"/>, <xref target="RFC1035"/>, <xref target="RFC8499"/>.</t>

<t><list style="symbols">
  <t>Authoritative Server: Described in <xref target="RFC8499"/>.</t>
  <t>Recursive Resolver: Described in <xref target="RFC8499"/>.</t>
</list></t>

</section>
<section anchor="compact-dnssec-scheme"><name>Compact DNSSEC Scheme</name>

<t>To encourge the DNSSEC deployment on resource-limited SLD, it is resonable to give it a compact DNSSEC deployment scheme.</t>

<section anchor="the-resource-limited-sld-publishes-compact-dnssec-records"><name>The Resource-limited SLD Publishes Compact DNSSEC Records</name>

<t>Resource-limited SLD should publish these DNSSEC records:</t>

<t><list style="symbols">
  <t>the delegation signer (DS) record on TLD.</t>
  <t>the DNSKEY records.</t>
  <t>the RRSIGs for NS/A/AAAA/CNAME/TLSA records associated with NS.</t>
</list></t>

<t>Resource-limited SLD doesn't publish other DNSSEC records on other subdomains.</t>

<t>Resource-limited SLD doesn't deploy NSEC/NSEC3.</t>

<t>For example:</t>

<figure><artwork><![CDATA[
    example.com. 345600 IN NS ns1.example.com.
    example.com. 345600 IN NS ns2.example.com.
    ns1.example.com. 345600 IN A 11.22.33.44
    ns1.example.com. 345600 IN AAAA ::11.22.33.44
    ns2.example.com. 345600 IN A 55.66.77.88
    ns2.example.com. 345600 IN AAAA ::55.66.77.88
    _853._tcp.ns1.example.com. 3600 IN TLSA ( 3 1 1 
      63cbfcafa3284cc46b1676a99dbc09d8acadf9050cf876de79ac1e5776bbd364 )
    _853._udp.ns1.example.com. 3600 IN TLSA ( 3 1 1
      63cbfcafa3284cc46b1676a99dbc09d8acadf9050cf876de79ac1e5776bbd364 )
    _853._tcp.ns2.example.com. 3600 IN TLSA ( 3 1 1
      63cbfcafa3284cc46b1676a99dbc09d8acadf9050cf876de79ac1e5776bbd364 )
    _853._udp.ns2.example.com. 3600 IN TLSA ( 3 1 1
      63cbfcafa3284cc46b1676a99dbc09d8acadf9050cf876de79ac1e5776bbd364 )
]]></artwork></figure>

<t>Therefore, the zone file size of the compact DNSSEC scheme is approximate with plain-text DNS, with few RRSIGs.</t>

</section>
</section>
<section anchor="the-authoritative-server-of-resource-limited-sld-deploys-secure-service"><name>The Authoritative Server of Resource-limited SLD Deploys Secure Service</name>

<t><xref target="RFC7858"/> and <xref target="RFC9250"/> defined the encrypted DoT/DoQ service for client-to-recursive.</t>

<t><xref target="RFC9539"/> discussed the extended deployment of encrypted recursive-to-authoritative DNS.</t>

<t>The authoritative server of resource-limited SLD deploys the DoQ/DoT service with self-signed PKI cerificate with TLS connection.</t>

<t><list style="symbols">
  <t>The NS records of the resource-limited SLD should be written into the subjectAltName extension field of the self-signed PKI certificate.</t>
  <t>The public key information of the self-signed PKI cerificate is published on associated TLSA records of the NS.</t>
  <t>The associated TLSA records are DNSSEC-signed.</t>
</list></t>

<t>An alternative secure channel solution is <xref target="DNSCurve"/>, embeded the raw public key into the NS records.</t>

</section>
<section anchor="the-recursive-resolver-validates-the-compact-dnssec-records"><name>The Recursive Resolver Validates The Compact DNSSEC Records</name>

<t>The recursive resolver validates the DNSSEC trust chain (Root -&gt; TLD -&gt; SLD), and gains the trustworthy A/AAAA records of the NS records of the SLD.</t>

<t>The trustworthy A/AAAA records are the IP addresses of the authoritative server of the resource-limited SLD.</t>

</section>
<section anchor="setup-secure-channel-for-recursive-to-authoritative"><name>Setup Secure Channel for Recursive-to-Authoritative</name>

<t>The Recursive Resolver setup secure DoQ/DoT channel with the authoritative server of the resource-limited SLD:</t>

<t><list style="symbols">
  <t>The recursive resolver connects to the trustworthy IP addresses of the authoritative server of the resource-limited SLD.</t>
  <t>The recursive resolver receives the self-signed certificate from the authoritative server, and extract the public key from the self-signed PKI certificate.</t>
  <t>The recursive resolver validates the TLSA RRSIGs of the NS records of the SLD with the DNSSEC trust chain.</t>
  <t>The recursive resolver validates the digest of extracted public key match the TLSA record.</t>
  <t>The recursive resolver setup secure DoQ/DoT channel with the authoritative server of the resource-limited SLD successfully.</t>
  <t>The recursive resolver make DNS query with the authoritative server of the resource-limited SLD on the secure DoQ/DoT channel.</t>
</list></t>

</section>
<section anchor="security-considerations"><name>Security Considerations</name>

<t>The compact DNSSEC scheme does not cover the entire zone and does not deploy NSEC/NSEC3.</t>

</section>


  </middle>

  <back>


    <references title='Normative References' anchor="sec-normative-references">

&RFC2119;
&RFC1034;
&RFC1035;
&RFC8499;
&RFC9539;
&RFC9250;
&RFC7858;


    </references>

    <references title='Informative References' anchor="sec-informative-references">

<reference anchor="SadDNSSEC" target="https://alexkelliott.github.io/dnssec/TheSadStoryOfDNSSEC.pdf">
  <front>
    <title>The Sad Story of DNSSEC</title>
    <author initials="E. A. and M." surname="J." fullname="Elliott, A. and Moxley, J.">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="AmpDNSSEC" target="https://www.nexusguard.com/blog/dnssec-fuels-new-wave-of-dns-amplification">
  <front>
    <title>DNSSEC fuels new wave of dns amplification.</title>
    <author initials="" surname="Nexusguard" fullname="Nexusguard">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="DNSCurve" target="https://dnscurve.org/">
  <front>
    <title>DNSCurve</title>
    <author initials="B. D." surname="J." fullname="Bernstein, D. J.">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>


    </references>


<?line 217?>



  </back>

<!-- ##markdown-source:
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
/dg1Z+FdsYyTPI69/wEqMTE3ixkAAA==

-->

</rfc>

